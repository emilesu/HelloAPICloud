<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <style>
      * {
        margin: 0;
        padding: 0;
      }
      div {
        background-color: #f00;
        height: 50px;
        line-height: 50px;
        color: #fff;
        font-size: 20px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div onclick="openScanner();">
      Hello APICloud
    </div>
  </body>
  <script>
    function openScanner() {
      // alert('openScanner in')
      api.confirm({
          title: 'APICloud',
          msg: '是否开启二维码扫描',
          buttons: ['打开', '取消']
      }, function(ret, err) {
          if (ret.buttonIndex == 1) {
            var scanner = api.require('scanner');
            scanner.open();
          } else {
            //something
          }
      });

    }
  </script>
</html>
